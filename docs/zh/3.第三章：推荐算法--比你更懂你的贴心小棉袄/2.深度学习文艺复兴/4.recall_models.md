---
title: æ·±åº¦å¬å›ï¼šä»äº¿ä¸‡"äººæµ·"ä¸­æ‰¾åˆ°ä½ çš„"çŸ¥éŸ³"
createTime: 2025/06/12 10:00:00
---

æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ˜¯ä¸€ä¸ªå¤§å‹è§†é¢‘ç½‘ç«™çš„ç®—æ³•å·¥ç¨‹å¸ˆï¼Œä½ çš„é¢å‰æ˜¯æ•°äº¿çš„è§†é¢‘åº“å­˜å’Œä¸Šäº¿çš„ç”¨æˆ·ã€‚å½“ä¸€ä¸ªç”¨æˆ·æ‰“å¼€APPæ—¶ï¼Œä½ éœ€è¦åœ¨æ¯«ç§’ä¹‹å†…ï¼Œä»è¿™ç‰‡è§†é¢‘çš„â€œæ±ªæ´‹å¤§æµ·â€ä¸­ï¼Œä¸ºä»–æŒ‘é€‰å‡ºä»–æœ€å¯èƒ½æ„Ÿå…´è¶£çš„å‡ ç™¾ä¸ªè§†é¢‘ã€‚

è¿™å°±æ˜¯ **å¬å›ï¼ˆRecallï¼‰** é˜¶æ®µçš„æ ¸å¿ƒæŒ‘æˆ˜ã€‚

ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½ç›´æ¥ç”¨ä¸€ä¸ªç²¾ç»†çš„æ’åºæ¨¡å‹ï¼ˆæ¯”å¦‚DeepFMï¼‰ç»™æ‰€æœ‰è§†é¢‘éƒ½æ‰“ä¸ªåˆ†å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼š**ç®—ä¸åŠ¨ï¼** å¯¹äº¿ä¸‡è§†é¢‘é€ä¸€æ‰“åˆ†ï¼Œè€—æ—¶å°†æ˜¯ç¾éš¾æ€§çš„ã€‚

å› æ­¤ï¼Œæ¨èç³»ç»Ÿè¢«è®¾è®¡ä¸ºä¸¤ä¸ªæ ¸å¿ƒé˜¶æ®µï¼š
1.  **å¬å›é˜¶æ®µ**ï¼šå¿«ï¼å‡†ï¼ç›®æ ‡æ˜¯ä»æµ·é‡ç‰©æ–™åº“ä¸­ï¼Œå¿«é€Ÿã€æ‰¹é‡åœ°ç­›é€‰å‡ºä¸€ä¸ªè¾ƒå°çš„å€™é€‰é›†ï¼ˆæ¯”å¦‚å‡ ç™¾åˆ°å‡ åƒä¸ªï¼‰ï¼Œä¿è¯ç”¨æˆ·å¯èƒ½æ„Ÿå…´è¶£çš„å†…å®¹åŸºæœ¬éƒ½åœ¨è¿™ä¸ªæ± å­é‡Œã€‚
2.  **æ’åºé˜¶æ®µ**ï¼šç²¾ï¼ç»†ï¼å¯¹å¬å›çš„å€™é€‰é›†ä½¿ç”¨å¤æ‚æ¨¡å‹è¿›è¡Œç²¾å‡†æ’åºï¼Œå†³å®šæœ€ç»ˆçš„å‘ˆç°é¡ºåºã€‚

å¬å›ï¼Œå°±æ˜¯è¿™åœºâ€œå¤§æµ·æé’ˆâ€è‰ºæœ¯çš„ç¬¬ä¸€æ­¥ï¼Œä¹Ÿæ˜¯å†³å®šæ•´ä¸ªæ¨èç³»ç»Ÿå¤©èŠ±æ¿çš„å…³é”®ä¸€æ­¥ã€‚

## ğŸ’¡ æ ¸å¿ƒæ€æƒ³ï¼šåŒå¡”æ¨¡å‹ï¼Œä¸€åœºé«˜æ•ˆçš„â€œç›¸äº²å¤§ä¼šâ€

ä¸ºäº†è§£å†³å¬å›çš„æ•ˆç‡é—®é¢˜ï¼Œ**åŒå¡”æ¨¡å‹ï¼ˆTwo-Tower Modelï¼‰** åº”è¿è€Œç”Ÿï¼Œå®ƒå·²æˆä¸ºæ·±åº¦å¬å›çš„ä¸šç•Œæ ‡å‡†èŒƒå¼ã€‚

æˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ¯”ä½œä¸€åœºå¤§å‹çš„â€œçº¿ä¸Šç›¸äº²å¤§ä¼šâ€ï¼š
- **ç‰©å“å¡” (Item Tower)**ï¼šç›¸å½“äºâ€œå¥³ç”Ÿä¿¡æ¯åº“â€ã€‚æˆ‘ä»¬æå‰æŠŠæ‰€æœ‰å¥³ç”Ÿçš„ä¿¡æ¯ï¼ˆç‰©å“ç‰¹å¾ï¼‰è¾“å…¥ç‰©å“å¡”ï¼Œç²¾å¿ƒè®¡ç®—å¹¶ç”Ÿæˆæ¯ä¸ªå¥³ç”Ÿçš„ä¸“å±â€œé­…åŠ›å‘é‡â€ï¼ˆItem Embeddingï¼‰ã€‚è¿™é¡¹å·¥ä½œå¯ä»¥ç¦»çº¿å®Œæˆï¼Œå¹¶å­˜å…¥ä¸€ä¸ªå¯è¢«å¿«é€Ÿæ£€ç´¢çš„å‘é‡æ•°æ®åº“ï¼ˆå¦‚Faissï¼‰ã€‚
- **ç”¨æˆ·å¡” (User Tower)**ï¼šç›¸å½“äºâ€œç”·ç”Ÿä¿¡æ¯å¤„ç†å™¨â€ã€‚å½“ä¸€ä½ç”·ç”Ÿï¼ˆç”¨æˆ·ï¼‰æ¥åˆ°ä¼šåœºï¼Œæˆ‘ä»¬è¿…é€Ÿå°†ä»–çš„ä¿¡æ¯ï¼ˆç”¨æˆ·ç‰¹å¾ã€å†å²è¡Œä¸ºï¼‰è¾“å…¥ç”¨æˆ·å¡”ï¼Œå®æ—¶è®¡ç®—å‡ºä»–çš„â€œæ‹©å¶æ ‡å‡†å‘é‡â€ï¼ˆUser Embeddingï¼‰ã€‚

**åŒ¹é…è¿‡ç¨‹**ï¼šæ‹¿ç€è¿™ä¸ªæ–°é²œå‡ºç‚‰çš„â€œç”·ç”Ÿæ ‡å‡†å‘é‡â€ï¼Œå»åºå¤§çš„â€œå¥³ç”Ÿé­…åŠ›å‘é‡åº“â€ä¸­è¿›è¡Œå…‰é€Ÿæ£€ç´¢ï¼Œæ‰¾å‡ºåŒ¹é…åº¦æœ€é«˜çš„Top-Kä¸ªå¥³ç”Ÿã€‚

```mermaid
graph TD
    subgraph "ç¦»çº¿å¤„ç† (Offline)"
        direction LR
        I["æµ·é‡ç‰©å“åº“"] --> IT["ç‰©å“å¡”<br/>Item Tower"]
        IT --> IV["ç‰©å“Embeddingå‘é‡åº“<br/>Item Embedding DB (Faiss/HNSW)"]
    end

    subgraph "åœ¨çº¿æœåŠ¡ (Online)"
        direction LR
        U["ç”¨æˆ·è¯·æ±‚"] --> UT["ç”¨æˆ·å¡”<br/>User Tower"]
        UT --> UE["ç”¨æˆ·Embedding"]
    end
    
    UE -->|"å‘é‡æ£€ç´¢ (ANN Search)"| IV
    IV -->|"Top-K ç»“æœ"| R["å¬å›åˆ—è¡¨"]

```

è¿™ä¸ªæ¶æ„çš„ç²¾é«“åœ¨äº**å°†ç”¨æˆ·å’Œç‰©å“çš„å¤æ‚äº¤äº’ï¼Œè§£è€¦ä¸ºä¸¤ä¸ªç‹¬ç«‹å¡”çš„å‘é‡è¡¨ç¤º**ï¼Œä»è€Œå°†æ’åºé˜¶æ®µæ˜‚è´µçš„åœ¨çº¿è®¡ç®—ï¼Œè½¬åŒ–ä¸ºå¬å›é˜¶æ®µé«˜æ•ˆçš„å‘é‡ç›¸ä¼¼åº¦æœç´¢ã€‚

## ğŸ›ï¸ æ¨¡å‹æ¼”è¿›ä¹‹è·¯ï¼šä»å¥ åŸºåˆ°æˆç†Ÿ

### DSSMï¼šåŒå¡”æ¨¡å‹çš„â€œå¼€å±±é¼»ç¥–â€

DSSM (Deep Structured Semantic Model) æœ€åˆç”¨äºè§£å†³æœç´¢å¼•æ“ä¸­æŸ¥è¯¢ï¼ˆQueryï¼‰å’Œæ–‡æ¡£ï¼ˆDocumentï¼‰çš„è¯­ä¹‰åŒ¹é…é—®é¢˜ï¼Œå…¶æ€æƒ³è¢«å®Œç¾è¿ç§»åˆ°æ¨èé¢†åŸŸï¼Œå¥ å®šäº†åŒå¡”æ¨¡å‹çš„åŸºç¡€ã€‚

- **æ ¸å¿ƒæ€æƒ³**ï¼šç”¨ä¸¤ä¸ªç»“æ„ç›¸åŒï¼ˆä½†å‚æ•°ä¸å…±äº«ï¼‰çš„DNNï¼Œåˆ†åˆ«å°†ç”¨æˆ·ç‰¹å¾å’Œç‰©å“ç‰¹å¾æ˜ å°„åˆ°åŒä¸€ä¸ªä½ç»´è¯­ä¹‰ç©ºé—´ï¼Œç„¶åé€šè¿‡è®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦æ¥è¡¡é‡åŒ¹é…ç¨‹åº¦ã€‚
- **è®­ç»ƒç›®æ ‡**ï¼šæœ€å¤§åŒ–ç”¨æˆ·ä¸æ­£æ ·æœ¬ï¼ˆç‚¹å‡»è¿‡çš„ç‰©å“ï¼‰çš„ç›¸ä¼¼åº¦ï¼ŒåŒæ—¶æœ€å°åŒ–ä¸è´Ÿæ ·æœ¬çš„ç›¸ä¼¼åº¦ã€‚

::: details ğŸ’» DSSM æ¨¡å‹å®ç° (å‚è€ƒ torch-rechub)
```python
import torch
import torch.nn as nn
from torch_rechub.models.layers import MLP

class DSSM(nn.Module):
    """
    Deep Structured Semantic Model
    
    Args:
        user_features (list): ç”¨æˆ·ä¾§ç‰¹å¾åˆ—è¡¨.
        item_features (list): ç‰©å“ä¾§ç‰¹å¾åˆ—è¡¨.
        user_mlp_params (dict): ç”¨æˆ·å¡”MLPçš„å‚æ•°.
        item_mlp_params (dict): ç‰©å“å¡”MLPçš„å‚æ•°.
        temperature (float): æ¸©åº¦ç³»æ•°ï¼Œç”¨äºè°ƒæ•´softmaxè¾“å‡º.
    """
    def __init__(self, user_features, item_features, user_mlp_params, item_mlp_params, temperature=1.0):
        super().__init__()
        # ç”¨æˆ·å¡”ï¼šç‰¹å¾å¤„ç†å±‚ + MLP
        self.user_tower = nn.Sequential(
            MLP(input_dim=sum(f.embed_dim for f in user_features), **user_mlp_params)
        )
        # ç‰©å“å¡”ï¼šç‰¹å¾å¤„ç†å±‚ + MLP
        self.item_tower = nn.Sequential(
            MLP(input_dim=sum(f.embed_dim for f in item_features), **item_mlp_params)
        )
        self.temperature = temperature
        
        # torch-rechubä¸­ç‰¹å¾å¤„ç†ç”±ä¸“é—¨çš„feature_layerå®Œæˆï¼Œè¿™é‡Œä¸ºç®€åŒ–å±•ç¤ºï¼Œå‡å®šè¾“å…¥å·²æ˜¯æ‹¼æ¥å¥½çš„ç‰¹å¾

    def user_embedding(self, x):
        """è·å–ç”¨æˆ·embedding"""
        return self.user_tower(x)
        
    def item_embedding(self, x):
        """è·å–ç‰©å“embedding"""
        return self.item_tower(x)

    def forward(self, x_user, x_item):
        """
        è®¡ç®—ç”¨æˆ·å’Œç‰©å“çš„åŒ¹é…åˆ†æ•°
        Args:
            x_user (torch.Tensor): ç”¨æˆ·ä¾§çš„è¾“å…¥ç‰¹å¾.
            x_item (torch.Tensor): ç‰©å“ä¾§çš„è¾“å…¥ç‰¹å¾.
        Returns:
            torch.Tensor: åŒ¹é…åˆ†æ•° (logits).
        """
        user_embedding = self.user_tower(x_user)
        item_embedding = self.item_tower(x_item)
        
        # è®¡ç®—ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œå¹¶ç”¨æ¸©åº¦ç³»æ•°è°ƒæ•´
        y = torch.mul(user_embedding, item_embedding).sum(dim=1)
        y = y / self.temperature
        return y
```
:::

### YouTubeDNNï¼šå·¥ä¸šç•Œçš„â€œé›†å¤§æˆè€…â€

Google çš„ YouTubeDNN æ¨¡å‹æ˜¯æ·±åº¦å¬å›åœ¨å·¥ä¸šç•ŒæˆåŠŸåº”ç”¨çš„å…¸èŒƒã€‚å®ƒæå¤§åœ°ä¸°å¯Œäº†ç”¨æˆ·å¡”çš„å†…æ¶µï¼Œä½¿å…¶èƒ½æ›´ç²¾å‡†åœ°åˆ»ç”»ç”¨æˆ·çš„ç¬æ—¶å…´è¶£ã€‚

- **æ ¸å¿ƒæ€æƒ³**ï¼šç”¨æˆ·çš„å…´è¶£å¯ä»¥é€šè¿‡ä»–**æœ€è¿‘è§‚çœ‹è¿‡çš„è§†é¢‘åºåˆ—**æ¥è¡¨è¾¾ã€‚
- **ç”¨æˆ·å¡”æ„å»º**ï¼š
    1.  å°†ç”¨æˆ·æœ€è¿‘è§‚çœ‹è¿‡çš„Nä¸ªè§†é¢‘çš„Embeddingå–å‡ºã€‚
    2.  å¯¹è¿™äº›Embeddingåš**åŠ æƒå¹³å‡**ï¼Œå¾—åˆ°ä¸€ä¸ªä»£è¡¨ç”¨æˆ·å†å²å…´è¶£çš„å‘é‡ã€‚
    3.  å†æ‹¼æ¥ä¸Šç”¨æˆ·çš„äººå£ç»Ÿè®¡å­¦ç‰¹å¾ã€æœç´¢å†å²ç­‰å…¶ä»–ç‰¹å¾ã€‚
    4.  æœ€åå°†æ‹¼æ¥å¥½çš„å¤§å‘é‡è¾“å…¥ä¸€ä¸ªDNNï¼Œç”Ÿæˆæœ€ç»ˆçš„User Embeddingã€‚
- **åˆ›æ–°ç‚¹**ï¼š
    - **Example Age**ï¼šå¼•å…¥â€œæ ·æœ¬å¹´é¾„â€ä½œä¸ºç‰¹å¾ï¼Œå¸®åŠ©æ¨¡å‹æ„ŸçŸ¥æ—¶é—´çš„æµé€ï¼Œä¿®æ­£å¯¹è€æ—§è§†é¢‘çš„æµè¡Œåº¦åè§ã€‚
    - **è´Ÿé‡‡æ ·**ï¼šé‡‡ç”¨åŸºäºç‰©å“æµè¡Œåº¦çš„è´Ÿé‡‡æ ·ç­–ç•¥ï¼Œé«˜æ•ˆåœ°è¿›è¡Œæ¨¡å‹è®­ç»ƒã€‚

::: details ğŸ’» YouTubeDNN æ¨¡å‹å®ç° (å‚è€ƒ torch-rechub)
```python
import torch
import torch.nn as nn
from torch_rechub.models.layers import MLP, SequencePoolingLayer

class YouTubeDNN(nn.Module):
    """
    YouTube Deep Neural Networks for Recommendations
    
    Args:
        user_features (list): ç”¨æˆ·ä¾§ç‰¹å¾åˆ—è¡¨.
        item_features (list): ç‰©å“ä¾§ç‰¹å¾åˆ—è¡¨ (ç”¨äºè´Ÿé‡‡æ ·).
        neg_item_feature (str): è´Ÿé‡‡æ ·ç‰©å“çš„ç‰¹å¾å.
        user_params (dict): ç”¨æˆ·å¡”MLPçš„å‚æ•°.
        temperature (float): æ¸©åº¦ç³»æ•°.
    """
    def __init__(self, user_features, item_features, neg_item_feature, user_params, temperature=1.0):
        super().__init__()
        self.user_features = user_features
        self.item_features = item_features
        self.neg_item_feature = neg_item_feature
        self.temperature = temperature
        
        # ç‰©å“çš„Embeddingå±‚æ˜¯å…±äº«çš„
        # åœ¨torch-rechubä¸­ï¼Œè¿™é€šå¸¸é€šè¿‡å…±äº«embedding_layerçš„åç§°å®ç°
        # æ­¤å¤„ä¸ºç®€åŒ–ï¼Œå‡å®šæœ‰ä¸€ä¸ªå…±äº«çš„embedding_layer
        self.embedding_layer = self.get_shared_embedding_layer()
        
        # ç”¨æˆ·å¡”
        # åºåˆ—ç‰¹å¾çš„æ± åŒ–å±‚
        self.seq_pooling_layer = SequencePoolingLayer(pooling_type="mean") 
        # ç”¨æˆ·å¡”çš„MLP
        self.user_tower = MLP(
            input_dim=self.get_user_input_dim(), 
            **user_params["mlp_params"]
        )
        
    def forward(self, x):
        """
        æ­¤æ¨¡å‹åœ¨torch-rechubä¸­é€šå¸¸ç”¨äºè®­ç»ƒï¼Œç›´æ¥è¾“å‡ºloss
        è¿™é‡Œä¸ºäº†å±•ç¤ºï¼Œæˆ‘ä»¬åˆ†è§£å…¶æ ¸å¿ƒé€»è¾‘
        """
        # 1. è·å–æ‰€æœ‰ç‰©å“çš„Embedding
        # åœ¨å®é™…è®­ç»ƒä¸­ï¼Œé€šè¿‡è´Ÿé‡‡æ ·å¾—åˆ°ä¸€ä¸ªbatchçš„ç‰©å“
        item_embs = self.embedding_layer(x[self.neg_item_feature]) # (batch_size, n_neg+1, emb_dim)
        
        # 2. æ„å»ºç”¨æˆ·å¡”è¾“å…¥
        # a. èšåˆç”¨æˆ·å†å²è¡Œä¸ºåºåˆ—
        watch_history_emb = self.seq_pooling_layer(self.embedding_layer(x["watch_history"]))
        # b. è·å–å…¶ä»–ç”¨æˆ·ç‰¹å¾ (å¦‚å¹´é¾„ã€æ€§åˆ«)
        user_other_features_emb = self.get_user_other_features(x)
        # c. æ‹¼æ¥æ‰€æœ‰ç”¨æˆ·ä¾§ç‰¹å¾
        user_tower_input = torch.cat([watch_history_emb, user_other_features_emb], dim=1)
        
        # 3. è®¡ç®—ç”¨æˆ·Embedding
        user_embedding = self.user_tower(user_tower_input) # (batch_size, emb_dim)
        
        # 4. è®¡ç®—ç”¨æˆ·ä¸æ‰€æœ‰é‡‡æ ·ç‰©å“çš„ç›¸ä¼¼åº¦ (å†…ç§¯)
        # user_embeddingéœ€è¦æ‰©å±•ç»´åº¦ä»¥è¿›è¡Œæ‰¹æ¬¡çŸ©é˜µä¹˜æ³•
        logits = torch.bmm(item_embs, user_embedding.unsqueeze(-1)).squeeze(-1) # (batch_size, n_neg+1)
        
        # è®­ç»ƒæ—¶ï¼Œè¿™é‡Œçš„logitsä¼šç›´æ¥é€å…¥äº¤å‰ç†µæŸå¤±å‡½æ•°
        return logits
```
:::

### MINDï¼šæ´æ‚‰ç”¨æˆ·çš„â€œå¤šé¢äººç”Ÿâ€

ä¸€ä¸ªç”¨æˆ·å¯èƒ½æ—¢å–œæ¬¢çœ‹çƒ§èœè§†é¢‘ï¼Œåˆå–œæ¬¢çœ‹ç¯®çƒé›†é”¦ã€‚ç”¨å•ä¸€çš„å‘é‡æ¥æ¦‚æ‹¬ä»–çš„å…¨éƒ¨å…´è¶£ï¼Œæ˜¾ç„¶æ˜¯æœ‰å±€é™çš„ã€‚MIND (Multi-Interest Network with Dynamic Routing) æ¨¡å‹åº”è¿è€Œç”Ÿã€‚

- **æ ¸å¿ƒæ€æƒ³**ï¼šä¸ºæ¯ä¸ªç”¨æˆ·ç”Ÿæˆ**å¤šä¸ªå…´è¶£å‘é‡**ï¼Œæ¯ä¸ªå‘é‡ä»£è¡¨ç”¨æˆ·çš„ä¸€ä¸ªç‰¹å®šå…´è¶£ç°‡ã€‚
- **åŠ¨æ€è·¯ç”± (Dynamic Routing)**ï¼šé€šè¿‡**èƒ¶å›Šç½‘ç»œ (Capsule Network)** çš„æ€æƒ³ï¼Œå°†ç”¨æˆ·çš„å†å²è¡Œä¸ºEmbeddingè¿›è¡ŒåŠ¨æ€èšç±»ï¼Œè‡ªé€‚åº”åœ°ç”ŸæˆKä¸ªå…´è¶£ä¸­å¿ƒï¼ˆKä¸ªå…´è¶£å‘é‡ï¼‰ã€‚
- **åŒ¹é…è¿‡ç¨‹**ï¼šå½“ä¸€ä¸ªå€™é€‰ç‰©å“ï¼ˆå¦‚ä¸€ä¸ªç¯®çƒè§†é¢‘ï¼‰è¿‡æ¥æ—¶ï¼Œæ¨¡å‹ä¼šæ™ºèƒ½åœ°è®¡ç®—è¯¥ç‰©å“ä¸ç”¨æˆ·çš„å“ªä¸ªå…´è¶£å‘é‡ï¼ˆç¯®çƒå…´è¶£ï¼‰æœ€åŒ¹é…ï¼Œå¹¶ç”¨è¿™ä¸ªæœ€åŒ¹é…çš„å…´è¶£å‘é‡æ¥è®¡ç®—æœ€ç»ˆçš„ç›¸ä¼¼åº¦ã€‚

è¿™ä½¿å¾—å¬å›æ¨¡å‹ä»â€œä¸€å¯¹ä¸€â€çš„åŒ¹é…ï¼Œå‡çº§ä¸ºæ›´çµæ´»ã€æ›´ç²¾å‡†çš„â€œä¸€å¯¹å¤šâ€åŒ¹é…ã€‚

## âš™ï¸ å·¥ä¸šéƒ¨ç½²ï¼šä»æ¨¡å‹åˆ°æœåŠ¡

ä¸€ä¸ªæ·±åº¦å¬å›æ¨¡å‹è¦çœŸæ­£ä¸Šçº¿å‘æŒ¥ä½œç”¨ï¼Œè¿˜éœ€è¦ä¸€æ•´å¥—å¼ºå¤§çš„å·¥ç¨‹ä½“ç³»æ”¯æ’‘ã€‚

1.  **ç¦»çº¿æµç¨‹ (Offline)**
    - **æ¨¡å‹è®­ç»ƒ**ï¼šä½¿ç”¨æµ·é‡ç”¨æˆ·è¡Œä¸ºæ—¥å¿—ï¼Œè®­ç»ƒåŒå¡”æ¨¡å‹ã€‚
    - **å‘é‡äº§å‡º**ï¼šè®­ç»ƒå®Œæˆåï¼Œå°†**ç‰©å“å¡”**å•ç‹¬æ‹¿å‡ºæ¥ï¼Œå¯¹å…¨é‡ç‰©å“è¿›è¡Œæ¨ç†ï¼Œäº§å‡ºæ‰€æœ‰ç‰©å“çš„Embeddingå‘é‡ã€‚
    - **ç´¢å¼•æ„å»º**ï¼šå°†å…¨é‡ç‰©å“å‘é‡çŒå…¥**ANNæ£€ç´¢å¼•æ“**ï¼ˆå¦‚Faissã€HNSWï¼‰ï¼Œæ„å»ºé«˜æ•ˆçš„å‘é‡ç´¢å¼•æ–‡ä»¶ï¼Œå¹¶æ¨é€åˆ°çº¿ä¸Šã€‚

2.  **åœ¨çº¿æµç¨‹ (Online)**
    - **å®æ—¶ç‰¹å¾**ï¼šå½“ç”¨æˆ·è¯·æ±‚åˆ°è¾¾æ—¶ï¼Œå®æ—¶è·å–ç”¨æˆ·çš„åŸºæœ¬ç‰¹å¾å’ŒçŸ­æœŸè¡Œä¸ºåºåˆ—ã€‚
    - **å®æ—¶æ¨ç†**ï¼šå°†ç‰¹å¾è¾“å…¥åˆ°çº¿ä¸Šçš„**ç”¨æˆ·å¡”**æ¨¡å‹ä¸­ï¼Œå®æ—¶è®¡ç®—å‡ºç”¨æˆ·å½“å‰çš„Embeddingå‘é‡ã€‚
    - **å®æ—¶æ£€ç´¢**ï¼šç”¨æ–°é²œå‡ºç‚‰çš„ç”¨æˆ·Embeddingï¼Œå»ANNå¼•æ“ä¸­è¿›è¡Œæ£€ç´¢ï¼Œæ‹‰å–æœ€ç›¸ä¼¼çš„Top-Kä¸ªç‰©å“IDã€‚
    - **ç‰©æ–™è¡¥å……**ï¼šå°†æ£€ç´¢åˆ°çš„ç‰©å“IDï¼Œå»ç¼“å­˜ï¼ˆå¦‚Redisï¼‰ä¸­è¡¥å…¨ç‰©å“çš„æ ‡é¢˜ã€å°é¢å›¾ç­‰ä¿¡æ¯ï¼Œè¿”å›ç»™ä¸‹æ¸¸çš„æ’åºæœåŠ¡ã€‚

## ğŸŒŸ æ€»ç»“ä¸å±•æœ›

æ·±åº¦å¬å›æ¨¡å‹ï¼Œä»¥â€œåŒå¡”â€æ¶æ„ä¸ºæ ¸å¿ƒï¼Œé€šè¿‡å°†å¤æ‚çš„ç‰¹å¾äº¤äº’è§£è€¦ä¸ºé«˜æ•ˆçš„å‘é‡æ£€ç´¢ï¼Œå®Œç¾è§£å†³äº†æ¨èç³»ç»Ÿâ€œå¤§æµ·æé’ˆâ€çš„æ•ˆç‡éš¾é¢˜ã€‚ä»DSSMçš„å¥ åŸºï¼Œåˆ°YouTubeDNNçš„å·¥ä¸šåŒ–ï¼Œå†åˆ°MINDçš„ç²¾ç»†åŒ–ï¼Œæˆ‘ä»¬çœ‹åˆ°å¬å›æ¨¡å‹æ­£æœç€æ›´æ‡‚ç”¨æˆ·ã€æ›´æ‡‚ç‰©å“ã€æ›´æ‡‚åœºæ™¯çš„æ–¹å‘ä¸æ–­è¿›åŒ–ã€‚

æŒæ¡æ·±åº¦å¬å›ï¼Œä¸ä»…æ˜¯ç†è§£å…¶æ¨¡å‹ç»“æ„ï¼Œæ›´æ˜¯ç†è§£å…¶èƒŒåçš„ç³»ç»Ÿè®¾è®¡ã€å·¥ç¨‹æƒè¡¡ä¸éƒ¨ç½²æ¶æ„ï¼Œè¿™æ‰æ˜¯çœŸæ­£æ„å»ºä¸€ä¸ªå¼ºå¤§æ¨èç³»ç»Ÿçš„å…³é”®æ‰€åœ¨ã€‚

> ğŸ§  **æ€è€ƒé¢˜**
> 
> 1.  åœ¨åŒå¡”æ¨¡å‹ä¸­ï¼Œä¸ºä»€ä¹ˆé€šå¸¸ç”¨æˆ·å¡”å’Œç‰©å“å¡”çš„è¾“å‡ºEmbeddingç»´åº¦éœ€è¦ä¿æŒä¸€è‡´ï¼Ÿ
> 2.  YouTubeDNNä¸­çš„â€œExample Ageâ€ç‰¹å¾éå¸¸å·§å¦™ï¼Œå®ƒä¸»è¦è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿåœ¨ä½ çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œèƒ½æƒ³åˆ°ç±»ä¼¼çš„â€œä¿®æ­£å‹â€ç‰¹å¾å—ï¼Ÿ
> 3.  ç›¸æ¯”äºå•å¡”æ¨¡å‹ï¼ˆå°†ç”¨æˆ·å’Œç‰©å“ç‰¹å¾æ‹¼æ¥åè¾“å…¥ä¸€ä¸ªDNNï¼‰ï¼ŒåŒå¡”æ¨¡å‹åœ¨æ•ˆæœå’Œæ€§èƒ½ä¸Šåˆ†åˆ«æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ
> 4.  å¦‚ä½•è¯„ä¼°ä¸€ä¸ªå¬å›ç­–ç•¥çš„å¥½åï¼Ÿä»…ä»…çœ‹å¬å›ç‡ï¼ˆRecall@Kï¼‰è¶³å¤Ÿå—ï¼Ÿ

ğŸ“– **å»¶ä¼¸é˜…è¯»**
1. [Deep Neural Networks for YouTube Recommendations](https://research.google/pubs/pub45530/) - YouTubeDNNçš„ç»å…¸è®ºæ–‡ï¼Œå·¥ä¸šç•Œæ·±åº¦å¬å›çš„å¿…è¯»æ–‡çŒ®ã€‚
2. [Sampling-Bias-Corrected Neural Modeling for Large Corpus Item Recommendations](https://dl.acm.org/doi/10.1145/3298687.3306678) - æ·±å…¥æ¢è®¨YouTubeå¬å›ä¸­è´Ÿé‡‡æ ·åå·®é—®é¢˜çš„è®ºæ–‡ã€‚
3. [Multi-Interest Network with Dynamic Routing for Recommendation at Tmall](https://arxiv.org/abs/1904.08030) - é˜¿é‡Œå·´å·´æå‡ºçš„MINDæ¨¡å‹ï¼Œå¼€å¯å¤šå…´è¶£å¬å›çš„å…ˆæ²³ã€‚
4. [Faiss: A library for efficient similarity search](https://engineering.fb.com/2017/03/29/faiss-a-library-for-efficient-similarity-search/) - Facebookå…³äºå…¶ANNå¼•æ“Faissçš„ä»‹ç»ï¼Œäº†è§£å‘é‡æ£€ç´¢èƒŒåçš„å·¥ç¨‹ã€‚
5. [Torch-RecHub Matching Models](https://github.com/datawhalechina/torch-rechub/tree/main/torch_rechub/models/matching) - Datawhaleå¼€æºçš„torch-rechubé¡¹ç›®ä¸­ï¼ŒåŒ…å«äº†å¤šç§ç»å…¸å¬å›æ¨¡å‹çš„PyTorchå®ç°ã€‚

